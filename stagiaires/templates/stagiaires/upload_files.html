{% extends 'stagiaires/base.html' %}
{% load static %}

{% block title %}Upload Files{% endblock %}

{% block content %}
<div class="upload-container">
    <h1>Telecharger vos documents</h1>

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        {{ form.non_field_errors }}

        <div class="form-group">
            <label for="id_file_type">Type de document</label>
            {{ form.file_type }}
        </div>
        <div class="form-group">
            <label for="id_file">Uploader Le Fichier:</label>
            {{ form.file }}
        </div>

        <button type="submit" class="btn btn-primary">Telecharger</button>
    </form>

    <div class="files-container">
        <h2>Rapport de Stage</h2>
        <ul>
            {% for file in rapport_files %}
                <li><a href="{{ file.file.url }}">{{ file.file.name }}</a></li>
            {% empty %}
                <p>Aucun rapport n'a encore été téléchargée.</p>
            {% endfor %}
        </ul>

        <h2>Presentations</h2>
        <ul>
            {% for file in presentation_files %}
                <li><a href="{{ file.file.url }}">{{ file.file.name }}</a></li>
            {% empty %}
                <p>Aucune présentation n'a encore été téléchargée.</p>
            {% endfor %}
        </ul>

        <h2>Convention de Stage</h2>
        <ul>
            {% for file in convention_files %}
                <li><a href="{{ file.file.url }}">{{ file.file.name }}</a></li>
            {% empty %}
                <p>Aucune convention n'a encore été téléchargée.</p>
            {% endfor %}
        </ul>
    </div>
</div>
{% endblock %}